@if (spool) {
  <h2 mat-dialog-title>
    @if (spool.name) {
      Editing {{ spool.name }}
    } @else {
      Editing {{ spool.id }}
    }
  </h2>

  <mat-dialog-content>
    <div class="column">
      <mat-form-field>
        <mat-label>Name</mat-label>
        <input type="text" matInput [(ngModel)]="spool.name">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Brand</mat-label>
        <mat-autocomplete #brandAuto>
          @for (brand of brands; track brand) {
            <mat-option [value]="brand">{{ brand }}</mat-option>
          }
        </mat-autocomplete>
        <input matInput type="text" placeholder="No brand" [matAutocomplete]="brandAuto" [(ngModel)]="spool.brand">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Material</mat-label>
        <mat-autocomplete #materialAuto>
          @for (material of materials; track material) {
            <mat-option [value]="material">{{ material }}</mat-option>
          }
        </mat-autocomplete>
        <input matInput type="text" placeholder="No material" [matAutocomplete]="materialAuto"
               [(ngModel)]="spool.material">
      </mat-form-field>

      <mat-form-field>
        <ngx-colors matSuffix ngx-colors-trigger [(ngModel)]="spool.color" format="hex" colorPickerControls="no-alpha"
                    [hideTextInput]="true"></ngx-colors>
        <mat-label>Color</mat-label>
        <input matInput type="text" [(ngModel)]="spool.color">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Spool weight</mat-label>
        <input type="number" matInput [(ngModel)]="spool.spoolWeight">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Filament weight (initial)</mat-label>
        <input type="number" matInput [(ngModel)]="spool.initialFilamentWeight">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Filament weight (remaining)</mat-label>
        <input type="number" matInput [(ngModel)]="spool.remainingFilamentWeight">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Flow calibration factor (K)</mat-label>
        <input type="number" matInput step="0.01" [(ngModel)]="spool.flowFactor">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Temperature (ÂºC)</mat-label>
        <input type="number" matInput [(ngModel)]="spool.temperature">
      </mat-form-field>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions>
    <button mat-button mat-dialog-close="cancel">Cancel</button>
    <button mat-button mat-dialog-close="update">Update</button>
  </mat-dialog-actions>


} @else {
  No card
}
