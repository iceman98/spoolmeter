@if (spool) {
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        @if (spool.name) {
          {{ spool.name }} - ({{ spool.id }}
        } @else {
          {{ spool.id }}
        }
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>

      <mat-form-field>
        <mat-label>Brand</mat-label>
        <mat-autocomplete #brandAuto>
          @for (brand of brands; track brand) {
            <mat-option [value]="brand">{{ brand }}</mat-option>
          }
        </mat-autocomplete>
        <input matInput type="text" placeholder="No brand" [matAutocomplete]="brandAuto" [(ngModel)]="spool.brand">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Material</mat-label>
        <mat-autocomplete #materialAuto>
          @for (material of materials; track material) {
            <mat-option [value]="material">{{ material }}</mat-option>
          }
        </mat-autocomplete>
        <input matInput type="text" placeholder="No material" [matAutocomplete]="materialAuto"
               [(ngModel)]="spool.material">
      </mat-form-field>

      <mat-form-field>
        <ngx-colors matSuffix ngx-colors-trigger [(ngModel)]="spool.color" format="hex" colorPickerControls="no-alpha"
                    [hideTextInput]="true"></ngx-colors>
        <mat-label>Color</mat-label>
        <input matInput type="text" [(ngModel)]="spool.color">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Spool weight</mat-label>
        <input type="number" matInput [(ngModel)]="spool.spoolWeight">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Filament weight (initial)</mat-label>
        <input type="number" matInput [(ngModel)]="spool.initialFilamentWeight">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Filament weight (remaining)</mat-label>
        <input type="number" matInput [(ngModel)]="spool.remainingFilamentWeight">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Flow calibration factor (K)</mat-label>
        <input type="number" matInput step="0.01" [(ngModel)]="spool.flowFactor">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Temperature (ÂºC)</mat-label>
        <input type="number" matInput [(ngModel)]="spool.temperature">
      </mat-form-field>

    </mat-card-content>

    <mat-card-actions>
      <button mat-button (click)="update()">Update</button>
      <button mat-button (click)="remove()">Remove</button>
    </mat-card-actions>

  </mat-card>
} @else {
  <mat-card>
    No card
  </mat-card>
}
